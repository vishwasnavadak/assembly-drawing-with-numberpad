INCLUDE CLR.MAC
INCLUDE SET.MAC

DATA SEGMENT
	X DB 10
	Y DB 5
	ENTER DB 0DH
	SPACE DB 20H
	BTMLEFT DB 31H
	DOWN DB 32H
	BTMRIGHT DB 33H
	LEFT DB 34H
	RIGHT DB 36H
	TOPLEFT DB 37H
	UP DB 38H
	TOPRIGHT DB 39H
DATA ENDS

CODE SEGMENT

	ASSUME CS:CODE,DS:DATA
	START:
		MOV AX,DATA
		MOV DS,AX

		CLRSCR

		SETCURSOR X,Y

		;LEA DX,MSG
		;MOV AH,09H
		;INT 21H
	SLOOP:
		MOV AH,01H
		INT 21H
		CMP AL,1BH
		JZ EXIT

		CALL MOVECURSOR
		
		JMP SLOOP

	EXIT:
	CLRSCR
	MOV AH,4CH
	INT 21H

	MOVECURSOR PROC NEAR
		CMP AL,SPACE
		JE SPC

		CMP AL,ENTER
		JE ENTR

		CMP AL,BTMLEFT
		JE BTL

		CMP AL,DOWN
		JE D

		CMP AL,BTMRIGHT
		JE BR

		CMP AL,LEFT
		JE L

		CMP AL,RIGHT
		JE R

		CMP AL,TOPLEFT
		JE TL

		CMP AL,UP
		JE U
		
		CMP AL,TOPRIGHT
		JE TR

		ENTR: INC X
			JMP S
		SPC: INC Y
			JMP S
		BTL: DEC Y
			INC X
			JMP S
		D: INC X
			JMP S
		BR: INC X
			INC Y
			JMP S
		L: DEC Y
			JMP S
		R: INC Y
			JMP S
		TL: DEC X
			DEC Y
			JMP S
		U: DEC X
			JMP S
		TR: INC Y
			DEC X
		S: SETCURSOR X,Y
	RET
	MOVECURSOR ENDP
CODE ENDS
END START
